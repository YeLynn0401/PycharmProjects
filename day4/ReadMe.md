#   ATM+购物商城
### 写在前面：

1. 把增加用户从管理员功能中独立出来，使用户自主注册信用卡。
2. 信用额度会根据年龄和职业自动生成
3.  卡可进行储值，刷卡消费无手续费，取现收取1%手续费。
4.  60岁以上以及18岁以下不可申请。
5.  商城使用day2项目，增加了绑定信用卡，信用卡结算等功能




### 详情：

>bin

>>bin.py   # 启动系统的主文件

>>system.log  # 系统日志文件

>db  # 存放数据文件

>>atm  # 存放atm数据文件

>>>bil  # 每个信用卡生成一个以卡号命名的文件夹，存放历史账单及本期未出账单

>>>>6201  # 以信用卡号命名的文件夹

>>>>>2016_10  #历史账单

>>>>>tmp  # 存放临时账单

>>>>>>2016_11  # 本期未出账单，超过账单日会被移动到上一级目录变成历史账单

>>shopping  # 存放购物商城数据文件

>>>commodity  # 存放商品列表

>>>shopping_cart  # 存放购物车信息

>>>shopping_history  # 存放购物历史

>>>user  # 存放用户信息

>>>user_money  # 存放用户商城余额


>modules

>>core  # 核心代码文件夹

>>>atm.py  # atm流程控制程序

>>>atm_card_apply.py  # 信用卡申请程序

>>>atm_card_bil.py  # 打印账单

>>>atm_card_info.py  # 查询信用卡信息

>>>atm_login.py  # ATM系统登陆

>>>atm_management.py  # 管理员功能

>>>atm_repayment.py  # 还款

>>>atm_transfer.py  # 转账

>>>atm_withdrowal.py  # 取现

>>>bil_opt.py  # 生成账单

>>>bind_card.py  # 商城中绑定信用卡

>>>card_play_api.py  # 商城中调用已绑定信用卡进行支付

>>>file_opt.py  # 商城中写入文件数据的方法

>>>file_option.py  # ATM写入文件数据的方法

>>>log_opt.py  # 记录日志

>>>shopping.py  # 购物主程序，day2拷贝来的，添加了信用卡接口


### db文件详解

##### card_info

* 数据格式
 

>{卡号：['密码'，密码错误次数，'姓名','年龄','账户锁定状态'，账单日，还款日，额度，可用余额]}

>{"6202": ["222222", 0, "sssssss", 55, 0, "19", "10", 41130, 41130],}
 
>密码错误次数：大于2时无法登陆

>账户锁定状态：0 正常，1 锁定


##### card_count

* 数据格式

> 6200

> 记录最后一次发卡的卡号，用户申请新卡时，卡号为：6200+1